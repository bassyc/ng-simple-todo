<!DOCTYPE html>
<html ng-app="todoApp">
<head>
    <title>TODO List</title>
    <link href="../css/bootstrap.css" rel="stylesheet"/>
    <link href="../css/bootstrap-theme.css" rel="stylesheet"/>

    <script src="../scripts/angular.js"></script>

    <script>
       var model = {
        user: "Jignesh",
        items:[
          {
            action: "Buy Flowers", done: false
          },
          {
              action: "Get Shoes", done: false
          },
          {
              action: "Collect Tickets", done: false
          }
        ]
       };

       var todoApp = angular.module("todoApp", []);

       todoApp.controller("ToDoController", function($scope) {
          $scope.todo = model;
       });
    </script>
</head>
<body ng-controller="ToDoController">
    <div class="page-header">
        <h1>
            {{todo.user}}'s To Do List
            <span class="label label-default">{{todo.items.length}}</span>
         </h1>
    </div>

    <div class="panel">
        <div class="input-group">
            <input class="form-control"/>
            <span class="input-group-btn">
                <button class="btn btn-default">Add</button>
            </span>
        </div>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Status</th>
                    <th>Done</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat="item in todo.items">
                    <td>{{item.action}}</td>
                    <td>
                        <!--
                            This status(checked/unchecked) of this check-box
                            represents the status of each item in TODO list.

                            This has been introduced for TWO-WAY MODEL BINDING
                            concept where the model is used to generate elements
                            AND changes in the element cause corresponding changes
                            in the model.This is unlike ONE-WAY BINDING where
                            values are taken from the model and used to populate
                            the elements in a template.

                            The important addition here is "ng-model" attribute
                            which tells AngularJS to create a two-way binding
                            between the value of the input element and the "done"
                            property of the corresponding data object (
                            the one that the ng-repeat directive assigned to
                            "item" when generating the elements )

                            When the HTML is first compiled, AngularJS will
                            use the value of the done property to set the value
                            of the input element, and since we are using a
                            check-box, a value of true causes the box to be
                            checked, while a value of false causes the box to
                            be unchecked.

                            This two-way binding can be seen in effect by looking
                            at the value of Done column in the table.

                            AngularJS bindings are dynamic and a two-way binding
                            such as the one applied here to the <input> element,
                            updates the model which in turn, updates other
                            elements that have related data-bindings.In present
                            case, the <input> element and the text in the Done
                            column are kept seamlessly in sync.
                         -->
                        <input type="checkbox" ng-model="item.done" />
                    </td>
                    <td>{{item.done}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>